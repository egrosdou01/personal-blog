"use strict";(self.webpackChunkpersonal_blog=self.webpackChunkpersonal_blog||[]).push([[9921],{9545:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var s=n(4848),i=n(8453);const o={slug:"sveltos-introduction-to-tiers",title:"Sveltos Tiers: Efficient Day-2 Operations and Targeted Updates",authors:["egrosdou01"],date:new Date("2024-09-26T00:00:00.000Z"),tags:["sveltos","open-source","kubernetes","gitops","devops","2024"]},l=void 0,r={permalink:"/personal-blog/blog/sveltos-introduction-to-tiers",source:"@site/blog/2024-09-26-sveltos-introduction-to-tiers/sveltos-introduction-to-tiers.md",title:"Sveltos Tiers: Efficient Day-2 Operations and Targeted Updates",description:"Introduction",date:"2024-09-26T00:00:00.000Z",tags:[{inline:!1,label:"Sveltos",permalink:"/personal-blog/blog/tags/sveltos",description:"Open source project Sveltos"},{inline:!1,label:"Open Source",permalink:"/personal-blog/blog/tags/open-source",description:"Open source software"},{inline:!1,label:"Kubernetes",permalink:"/personal-blog/blog/tags/kubernetes",description:"Container orchestration platform for automating application deployment, scaling, and management"},{inline:!1,label:"GitOps",permalink:"/personal-blog/blog/tags/gitops",description:"Operational framework that uses Git as a single source of truth for declarative infrastructure and applications"},{inline:!1,label:"DevOps",permalink:"/personal-blog/blog/tags/devops",description:"Set of practices that combines software development and IT operations"},{inline:!1,label:"2024",permalink:"/personal-blog/blog/tags/2024",description:"The year the post went online"}],readingTime:7.565,hasTruncateMarker:!0,authors:[{name:"Eleni Grosdouli",title:"DevOps Consulting Engineer at Cisco Systems",url:"https://github.com/egrosdou01",imageURL:"https://github.com/egrosdou01.png",key:"egrosdou01"}],frontMatter:{slug:"sveltos-introduction-to-tiers",title:"Sveltos Tiers: Efficient Day-2 Operations and Targeted Updates",authors:["egrosdou01"],date:"2024-09-26T00:00:00.000Z",tags:["sveltos","open-source","kubernetes","gitops","devops","2024"]},unlisted:!1,prevItem:{title:"Sveltos: Optimising Day-2 Operations with Cilium and Tetragon",permalink:"/personal-blog/blog/sveltos-cilium-tetragon-day2-operations"},nextItem:{title:"OSSummit Europe 2024",permalink:"/personal-blog/blog/ossummit-europe-2024"}},a={authorsImageUrls:[void 0]},c=[{value:"Introduction",id:"introduction",level:2},{value:"Lab Setup",id:"lab-setup",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Register Clusters with\xa0Sveltos",id:"step-1-register-clusters-withsveltos",level:2},{value:"Example Registration",id:"example-registration",level:3},{value:"Validation",id:"validation",level:3},{value:"Step 2: Deploy Cilium and Monitoring Capabilities",id:"step-2-deploy-cilium-and-monitoring-capabilities",level:2},{value:"ClusterProfile - Cilium, Grafana, Prometheus",id:"clusterprofile---cilium-grafana-prometheus",level:3},{value:"ClusterProfile - Loki",id:"clusterprofile---loki",level:3},{value:"Deploy ClusterProfiles - Management Cluster",id:"deploy-clusterprofiles---management-cluster",level:3},{value:"Validation - Management Cluster",id:"validation---management-cluster",level:3},{value:"Validation - Managed Cluster",id:"validation---managed-cluster",level:3},{value:"Step 3: Update Cilium tier Cluster",id:"step-3-update-cilium-tier-cluster",level:2},{value:"ClusterProfile - Update Cilium",id:"clusterprofile---update-cilium",level:3},{value:"Validation - Management Cluster",id:"validation---management-cluster-1",level:3},{value:"Validation - Managed Cluster",id:"validation---managed-cluster-1",level:3},{value:"Sveltos Tiers Benefits",id:"sveltos-tiers-benefits",level:2},{value:"Conclusions",id:"conclusions",level:2},{value:"\u2709\ufe0f Contact",id:"\ufe0f-contact",level:2},{value:"\ud83d\udc4f Support this\xa0project",id:"-support-thisproject",level:2}];function u(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(t.p,{children:["In previous posts, we outlined how ",(0,s.jsx)(t.a,{href:"https://github.com/projectsveltos",children:"Sveltos"})," allows Platform and tenant administrators to streamline Kubernetes applications and add-on deployments to a fleet of clusters. In today's blog post, we will take a step further and demonstrate how easy it is to ",(0,s.jsx)(t.strong,{children:"target"})," and ",(0,s.jsx)(t.strong,{children:"update"})," a ",(0,s.jsx)(t.strong,{children:"subset"})," of resources targeted by ",(0,s.jsx)(t.strong,{children:"multiple configurations"}),". By multiple configurations, we refer to the ",(0,s.jsx)(t.a,{href:"https://projectsveltos.github.io/sveltos/addons/addons/",children:"Sveltos ClusterProfile or Profile"})," Custom Resource Definitions (CRDs). The demonstration focuses on ",(0,s.jsx)(t.strong,{children:"day-2 operations"})," as we provide a way to ",(0,s.jsx)(t.strong,{children:"update and/or remove"})," resources without affecting ",(0,s.jsx)(t.strong,{children:"production"})," operations."]}),"\n",(0,s.jsxs)(t.p,{children:["This functionality is called ",(0,s.jsx)(t.a,{href:"https://projectsveltos.github.io/sveltos/deployment_order/tiers/",children:"tiers"}),". Sveltos tiers provide a solution for managing the ",(0,s.jsx)(t.strong,{children:"deployment priority"})," when resources are targeted by multiple configurations. Tiers are easily integrated into existing ClusterProfile/Profile definitions alongside defining the deployment order control and straightforwardly override behaviour."]}),"\n",(0,s.jsxs)(t.p,{children:["Today, we will cover the case of updating the ",(0,s.jsx)(t.a,{href:"https://docs.cilium.io/en/latest/",children:"Cilium CNI"})," in a subnet of clusters with the label set to ",(0,s.jsx)(t.code,{children:"tier:zone2"})," without affecting the monitoring capabilities defined in the ",(0,s.jsx)(t.strong,{children:"same"})," ClusterProfile/Profile."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"title image reading &quot;Sveltos Tiers&quot;",src:n(8333).A+"",width:"4614",height:"3467"})}),"\n",(0,s.jsx)(t.h2,{id:"lab-setup",children:"Lab Setup"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"+-----------------+-------------------+--------------------------+\n|   Cluster Name  |        Type       |         Version          |\n+-----------------+-------------------+--------------------------+\n|   mgmt          | Mgmt Cluster      |      v1.28.9+rke2r1      |\n|  prod-zone01    | Managed Cluster   |      v1.29.2+k3s1        |\n|  prod-zone02    | Managed Cluster   |      v1.29.2+k3s1        |\n+-----------------+-------------------+--------------------------+\n\n+-------------+---------------------+\n| Deployment  | Version             |\n+-------------+---------------------+\n| Cilium      | v1.15.6, v1.16.1    |\n| sveltosctl  | v0.37.0             |\n+-------------+---------------------+\n"})}),"\n",(0,s.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(t.p,{children:"To follow along, ensure the below are satisfied."}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"A management cluster with Sveltos installed"}),"\n",(0,s.jsx)(t.li,{children:"kubectl installed"}),"\n",(0,s.jsx)(t.li,{children:"sveltosctl installed"}),"\n"]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["If you are unaware of installing Sveltos in a Kubernetes cluster, follow the instructions mentioned ",(0,s.jsx)(t.a,{href:"https://projectsveltos.github.io/sveltos/getting_started/install/install/",children:"here"}),"."]})}),"\n",(0,s.jsx)(t.h2,{id:"step-1-register-clusters-withsveltos",children:"Step 1: Register Clusters with\xa0Sveltos"}),"\n",(0,s.jsxs)(t.p,{children:["For this demo, two ",(0,s.jsx)(t.a,{href:"https://www.civo.com/kubernetes",children:"Civo Kubernetes"})," clusters are used. Once the clusters are ready, we can proceed with the Sveltos cluster registration. To do that, we will utilise ",(0,s.jsx)(t.code,{children:"sveltosctl"}),". The ",(0,s.jsx)(t.code,{children:"sveltosctl"})," can be downloaded ",(0,s.jsx)(t.a,{href:"https://github.com/projectsveltos/sveltosctl/releases",children:"here"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"$ sveltosctl register cluster --namespace=<namespace> --cluster=<cluster name> \\\n--kubeconfig=<path to Sveltos file with Kubeconfig> \\\n--labels=key1=value1,key2=value2\n"})}),"\n",(0,s.jsx)(t.h3,{id:"example-registration",children:"Example Registration"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"$ sveltosctl register cluster --namespace=civo --cluster=mesh01 \\\n    --kubeconfig=/home/test/prod-zone01.yaml \\\n    --labels=env=prod,tier=zone01\n"})}),"\n",(0,s.jsxs)(t.p,{children:["We will register the clusters with Sveltos on the mentioned ",(0,s.jsx)(t.strong,{children:"namespace"}),", and ",(0,s.jsx)(t.strong,{children:"name"}),", and will attach the cluster labels to perform different deployment versions."]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"If the namespace does not exist in the management cluster, the command will fail with the namespace not found error. Ensure the defined namespace exists in the cluster before registration."})}),"\n",(0,s.jsx)(t.h3,{id:"validation",children:"Validation"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"$ export KUBECONFIG=<Sveltos managament cluster>\n\n$ kubectl get sveltoscluster -A --show-labels\nNAMESPACE   NAME          READY   VERSION          LABELS\nmgmt        mgmt          true    v1.28.9+rke2r1   projectsveltos.io/k8s-version=v1.28.9,sveltos-agent=present\nprod        prod-zone01   true    v1.28.7+k3s1     env=prod,projectsveltos.io/k8s-version=v1.28.7,sveltos-agent=present,tier=zone01\nprod        prod-zone02   true    v1.28.7+k3s1     env=prod,projectsveltos.io/k8s-version=v1.28.7,sveltos-agent=present,tier=zone02\n"})}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsx)(t.p,{children:"Ensure the labels set to the managed clusters are correct. We will use them at a later step."})}),"\n",(0,s.jsx)(t.h2,{id:"step-2-deploy-cilium-and-monitoring-capabilities",children:"Step 2: Deploy Cilium and Monitoring Capabilities"}),"\n",(0,s.jsxs)(t.p,{children:["As platform administrators, for every managed cluster, we want to have Cilium as our CNI and monitoring capabilities with Grafana, Prometheus and Loki. For that, we will use the Sveltos ClusterProfile Kubernetes resource and deploy the required deployments in clusters with the label set to ",(0,s.jsx)(t.code,{children:"env:prod"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"clusterprofile---cilium-grafana-prometheus",children:"ClusterProfile - Cilium, Grafana, Prometheus"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:'---\napiVersion: config.projectsveltos.io/v1beta1\nkind: ClusterProfile\nmetadata:\n  name: cluster-prod-initial-setup\nspec:\n  clusterSelector:\n    matchLabels:\n      env: prod\n  continueOnConflict: true\n  helmCharts:\n  - chartName: cilium/cilium\n    chartVersion: 1.15.6\n    helmChartAction: Install\n    releaseName: cilium\n    releaseNamespace: kube-system\n    repositoryName: cilium\n    repositoryURL: https://helm.cilium.io/\n  - chartName: prometheus-community/kube-prometheus-stack\n    chartVersion: v60.2.0\n    helmChartAction: Install\n    releaseName: prometheus-community\n    releaseNamespace: monitoring\n    repositoryName: prometheus-community\n    repositoryURL: https://prometheus-community.github.io/helm-charts\n    values: |\n      grafana:\n        service:\n          type: LoadBalancer\n      prometheus-node-exporter:\n        service:\n          port: 9200\n          targetPort: 9200\n  validateHealths:\n  - name: deployment-health\n    featureID: Helm\n    group: "apps"\n    version: "v1"\n    kind: "Deployment"\n    namespace: monitoring\n    script: |\n      function evaluate()\n        local hs = {healthy = false, message = "Available replicas not match requested replicas"}\n        if obj.status and obj.status.availableReplicas ~= nil and obj.status.availableReplicas == obj.spec.replicas then\n          hs.healthy = true\n        end\n        return hs\n      end\n'})}),"\n",(0,s.jsxs)(t.p,{children:["We instruct Sveltos firstly to install Cilium as our CNI. Next, we deploy the ",(0,s.jsx)(t.strong,{children:"Grafana"})," and ",(0,s.jsx)(t.strong,{children:"Prometheus"})," stack and ensure the second deployment is in a ",(0,s.jsx)(t.code,{children:"healthy"})," state using the ",(0,s.jsx)(t.code,{children:"validateHealths"}),". Afterwards, we proceed with the Loki integration."]}),"\n",(0,s.jsx)(t.h3,{id:"clusterprofile---loki",children:"ClusterProfile - Loki"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:"---\napiVersion: config.projectsveltos.io/v1beta1\nkind: ClusterProfile\nmetadata:\n  name: loki-2102-prod\nspec:\n  dependsOn:\n  - cluster-prod-initial-setup\n  clusterSelector:\n    matchLabels:\n      env: prod\n  continueOnConflict: true\n  helmCharts:\n  - repositoryURL: https://grafana.github.io/helm-charts\n    repositoryName: grafana\n    chartName: grafana/loki-stack\n    chartVersion: v2.10.2\n    releaseName: loki\n    releaseNamespace: loki-stack\n    helmChartAction: Install\n"})}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["Ensure the ",(0,s.jsx)(t.code,{children:"dependsOn"})," contains the correct name definition. In our example, it is",(0,s.jsx)(t.code,{children:"cluster-prod-initial-setup"}),"."]})}),"\n",(0,s.jsx)(t.h3,{id:"deploy-clusterprofiles---management-cluster",children:"Deploy ClusterProfiles - Management Cluster"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"$ export KUBECONFIG=<Sveltos managament cluster> \n\n$ kubectl apply -f clusterprofile_prod_setup.yaml,clusterprofile_loki.yaml\n"})}),"\n",(0,s.jsx)(t.h3,{id:"validation---management-cluster",children:"Validation - Management Cluster"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"$ ./sveltosctl show addons\n+------------------+---------------+-------------+----------------------+---------+--------------------------------+-------------------------------------------+\n|     CLUSTER      | RESOURCE TYPE |  NAMESPACE  |         NAME         | VERSION |              TIME              |                 PROFILES                  |\n+------------------+---------------+-------------+----------------------+---------+--------------------------------+-------------------------------------------+\n| prod/prod-zone01 | helm chart    | kube-system | cilium               | 1.15.6  | 2024-09-23 12:18:37 +0200 CEST | ClusterProfile/cluster-prod-initial-setup |\n| prod/prod-zone01 | helm chart    | monitoring  | prometheus-community | 60.2.0  | 2024-09-23 12:18:47 +0200 CEST | ClusterProfile/cluster-prod-initial-setup |\n| prod/prod-zone01 | helm chart    | loki-stack  | loki                 | 2.10.2  | 2024-09-23 12:20:38 +0200 CEST | ClusterProfile/loki-2102-prod             |\n| prod/prod-zone02 | helm chart    | kube-system | cilium               | 1.15.6  | 2024-09-23 12:18:47 +0200 CEST | ClusterProfile/cluster-prod-initial-setup |\n| prod/prod-zone02 | helm chart    | monitoring  | prometheus-community | 60.2.0  | 2024-09-23 12:18:56 +0200 CEST | ClusterProfile/cluster-prod-initial-setup |\n| prod/prod-zone02 | helm chart    | loki-stack  | loki                 | 2.10.2  | 2024-09-23 12:20:47 +0200 CEST | ClusterProfile/loki-2102-prod             |\n+------------------+---------------+-------------+----------------------+---------+--------------------------------+-------------------------------------------+\n"})}),"\n",(0,s.jsx)(t.h3,{id:"validation---managed-cluster",children:"Validation - Managed Cluster"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"$ kubectl get pods -n kube-system | grep -i cilium\ncilium-operator-579c6c96c4-47wsk   1/1     Running   0          10m\ncilium-operator-579c6c96c4-djk8s   1/1     Running   0          10m\ncilium-mwk7x                       1/1     Running   0          10m\ncilium-x5z5v                       1/1     Running   0          10m\n\n$ kubectl get ds/cilium -n kube-system -o jsonpath='{.spec.template.spec.containers[0].image}'\nquay.io/cilium/cilium:v1.15.6@sha256:6aa840986a3a9722cd967ef63248d675a87add7e1704740902d5d3162f0c0def\n\n$ kubectl get pods -n monitoring \nNAME                                                       READY   STATUS    RESTARTS   AGE\nprometheus-community-prometheus-node-exporter-78llc        1/1     Running   0          11m\nprometheus-community-prometheus-node-exporter-xhcf9        1/1     Running   0          11m\nprometheus-community-kube-operator-5746cfbb9-4p45x         1/1     Running   0          11m\nprometheus-community-kube-state-metrics-7fc779fc58-z4ktb   1/1     Running   0          11m\nalertmanager-prometheus-community-kube-alertmanager-0      2/2     Running   0          11m\nprometheus-prometheus-community-kube-prometheus-0          2/2     Running   0          11m\nprometheus-community-grafana-7494f9df89-pjqdd              3/3     Running   0          11m\n\n$ kubectl get pods -n loki-stack\nNAME                  READY   STATUS    RESTARTS   AGE\nloki-promtail-ttdgx   1/1     Running   0          10m\nloki-promtail-jq5td   1/1     Running   0          10m\nloki-0                1/1     Running   0          10m\n"})}),"\n",(0,s.jsxs)(t.p,{children:["We installed Cilium, Grafana, Prometheus and Loki in our production clusters. Awesome! \ud83c\udf89 Now, we will continue with the ",(0,s.jsx)(t.strong,{children:"update"})," of ",(0,s.jsx)(t.strong,{children:"Cilium"})," on a subnet of clusters only."]}),"\n",(0,s.jsxs)(t.h2,{id:"step-3-update-cilium-tier-cluster",children:["Step 3: Update Cilium tier",":zone02"," Cluster"]}),"\n",(0,s.jsxs)(t.p,{children:["As mentioned, we would like to use the Sveltos ",(0,s.jsx)(t.code,{children:"tier"})," feature to update ",(0,s.jsx)(t.code,{children:"Cilium"})," only on the clusters with the label set to ",(0,s.jsx)(t.code,{children:"tier:zone02"}),". The matching cluster in our example will be the ",(0,s.jsx)(t.code,{children:"prod-zone01"})," cluster."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Issue"}),": Because we have a ClusterProfile that installed Cilium to the cluster ",(0,s.jsx)(t.code,{children:"prod-zone01"}),", how can we instruct Sveltos to update this cluster and only the Cilium deployment?"]}),"\n",(0,s.jsxs)(t.p,{children:["To achieve this, we will create a new ClusterProfile with the user of ",(0,s.jsx)(t.code,{children:"tier"}),". We will instruct Sveltos to take the new ClusterProfile with a lower ",(0,s.jsx)(t.code,{children:"tier"})," value set and update Cilium CNI only on the matching clusters."]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["The default ",(0,s.jsx)(t.code,{children:"tier"})," value for every ClusterProfile/Profile is set to 100. If you set this to a lower value, Sveltos will take the lower value as a higher priority deployment."]})}),"\n",(0,s.jsx)(t.h3,{id:"clusterprofile---update-cilium",children:"ClusterProfile - Update Cilium"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:"---\napiVersion: config.projectsveltos.io/v1beta1\nkind: ClusterProfile\nmetadata:\n  name: cilium-1161\nspec:\n  tier: 50\n  clusterSelector:\n    matchLabels:\n      tier: zone02\n  continueOnConflict: true\n  helmCharts:\n  - chartName: cilium/cilium\n    chartVersion: 1.16.1\n    helmChartAction: Install\n    releaseName: cilium\n    releaseNamespace: kube-system\n    repositoryName: cilium\n    repositoryURL: https://helm.cilium.io/\n"})}),"\n",(0,s.jsx)(t.h3,{id:"validation---management-cluster-1",children:"Validation - Management Cluster"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"$ ./sveltosctl show addons --cluster=prod-zone02\n+------------------+---------------+-------------+----------------------+---------+--------------------------------+-------------------------------------------+\n|     CLUSTER      | RESOURCE TYPE |  NAMESPACE  |         NAME         | VERSION |              TIME              |                 PROFILES                  |\n+------------------+---------------+-------------+----------------------+---------+--------------------------------+-------------------------------------------+\n| prod/prod-zone02 | helm chart    | monitoring  | prometheus-community | 60.2.0  | 2024-09-23 12:18:56 +0200 CEST | ClusterProfile/cluster-prod-initial-setup |\n| prod/prod-zone02 | helm chart    | loki-stack  | loki                 | 2.10.2  | 2024-09-23 12:20:47 +0200 CEST | ClusterProfile/loki-2102-prod             |\n| prod/prod-zone02 | helm chart    | kube-system | cilium               | 1.16.1  | 2024-09-23 12:32:27 +0200 CEST | ClusterProfile/cilium-1161                |\n+------------------+---------------+-------------+----------------------+---------+--------------------------------+-------------------------------------------+\n"})}),"\n",(0,s.jsx)(t.h3,{id:"validation---managed-cluster-1",children:"Validation - Managed Cluster"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"$ kubectl get pods -n kube-system | grep -i cilium                                                  \ncilium-operator-66dcfc4678-76j6m   1/1     Running   0          2m44s\ncilium-operator-66dcfc4678-6wvbr   1/1     Running   0          2m44s\ncilium-xnt7k                       1/1     Running   0          2m44s\ncilium-envoy-rj8pj                 1/1     Running   0          2m45s\ncilium-8fbzc                       1/1     Running   0          2m44s\ncilium-envoy-hkhmc                 1/1     Running   0          2m45s\n\n$ kubectl get ds/cilium -n kube-system -o jsonpath='{.spec.template.spec.containers[0].image}'\nquay.io/cilium/cilium:v1.16.1@sha256:0b4a3ab41a4760d86b7fc945b8783747ba27f29dac30dd434d94f2c9e3679f39\n"})}),"\n",(0,s.jsx)(t.h2,{id:"sveltos-tiers-benefits",children:"Sveltos Tiers Benefits"}),"\n",(0,s.jsxs)(t.p,{children:["Sveltos tiers allow seamless ",(0,s.jsx)(t.strong,{children:"targeting"})," \ud83c\udfaf and ",(0,s.jsx)(t.strong,{children:"updating"})," \ud83d\udd04 of different Kubernetes applications and add-ons in a subset of clusters. Now, we have a way to perform updates without headaches \ud83d\ude0c and be confident and full of control \ud83d\udee0\ufe0f using the GitOps approach."]}),"\n",(0,s.jsx)(t.h2,{id:"conclusions",children:"Conclusions"}),"\n",(0,s.jsxs)(t.p,{children:["In a few minutes \u23f3, with minimal configuration effort and following the GitOps approach, we updated Cilium CNI in a subset of clusters painless! \ud83c\udf89 Find more about the Sveltos tiers ",(0,s.jsx)(t.a,{href:"https://projectsveltos.github.io/sveltos/deployment_order/tiers/",children:"here"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"\ufe0f-contact",children:"\u2709\ufe0f Contact"}),"\n",(0,s.jsxs)(t.p,{children:["We are here to help! Whether you have questions, or issues or need assistance, our Slack channel is the perfect place for you. Click here to ",(0,s.jsx)(t.a,{href:"https://app.slack.com/client/T0471SNT5CZ/C06UZCXQLGP",children:"join us"})," us."]}),"\n",(0,s.jsx)(t.h2,{id:"-support-thisproject",children:"\ud83d\udc4f Support this\xa0project"}),"\n",(0,s.jsxs)(t.p,{children:["Every contribution counts! If you enjoyed this article, check out the Projectsveltos ",(0,s.jsx)(t.a,{href:"https://github.com/projectsveltos",children:"GitHub repo"}),". You can ",(0,s.jsx)(t.a,{href:"https://github.com/projectsveltos",children:"star \ud83c\udf1f the project"})," if you find it helpful."]}),"\n",(0,s.jsx)(t.p,{children:"The GitHub repo is a great resource for getting started with the project. It contains the code, documentation, and many more examples."}),"\n",(0,s.jsx)(t.p,{children:"Thanks for reading!"})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8333:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/sveltos_tiers-efa847a5dfb7374928808c707a7e3292.jpg"},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>r});var s=n(6540);const i={},o=s.createContext(i);function l(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);